(undo-tree-save-format-version . 1)
"709edc286eef03fe09462dd37681340ae17343dc"
[nil nil nil nil (26858 55903 244460 788000) 0 nil]
([nil nil ((40626 . 40627) (t 26799 44057 539573 362000) 40516) nil (26858 55903 244460 79000) 0 nil])
([nil nil ((40627 . 40631)) nil (26858 55903 244459 428000) 0 nil])
([nil nil ((nil rear-nonsticky nil 43891 . 43892) (nil fontified nil 40631 . 43892) (40631 . 43892)) nil (26858 55903 244458 885000) 0 nil])
([nil current ((#("def tates_algorithm(a4, a6, var_sym, center=None, debug=False, minimal=True, g=None, at_infinity=False):
    \"\"\"
    If g is given (irreducible in QQ[m]), we work at that algebraic place.
    Else if center in QQ -> rational place. Else if at_infinity -> infinity.
    \"\"\"
    # 1) local valuations via exact prime-ideal method
    if center is None:
        assert at_infinity

    if g is not None:
        v4, v6, vD, n, (v4m, v6m, vDm) = local_vals_driver(a4, a6, at_infinity=at_infinity, g=g, minimal=minimal)
        root_type = 'irrational'  # the whole conjugacy class of roots of g
        center_display = 'root(g)'
    elif at_infinity:
        v4, v6, vD, n, (v4m, v6m, vDm) = local_vals_driver(a4, a6, at_infinity=at_infinity, minimal=minimal)
        root_type = 'infinity'
        center_display = None
    else:
        v4, v6, vD, n, (v4m, v6m, vDm) = local_vals_driver(a4, a6, at_infinity=at_infinity, center=center, minimal=minimal)
        root_type = 'rational'
        center_display = center

    if debug:
        print(f\"[tate] P=({('∞' if at_infinity else ('g' if g is not None else center))}) \"
              f\"v=(c4 {v4}, c6 {v6}, Δ {vD}) -> n={n} ; minimal ( {v4m}, {v6m}, {vDm} )\")

    # 2) smooth quick exit
    if vD <= 0:
        return {'symbol': 'I0', 'v_c4': v4m, 'v_c6': v6m, 'v_D': vDm,
                'center': center_display, 'r': 0, 'minimal_used': bool(minimal),
                'type': 'smooth' if vD < 0 else 'multiplicative', 'n': n, 'split': None,
                'root_type': root_type}

    # 3) classify from minimal valuations (use your existing table if you have one)
    def classify_from_minimal_vals(v4, v6, vD):
        if v4 == 0 and v6 == 0 and vD >= 1:
            return f\"I{vD}\", 'multiplicative'
        tbl = [
            ('II',   (1,1,2)), ('III', (1,2,3)), ('IV', (2,3,4)),
            ('I0*',  (2,3,6)), ('IV*', (3,4,8)), ('III*',(3,5,9)), ('II*',(4,5,10)),
        ]
        for sym,(a,b,c) in tbl:
            if v4 >= a and v6 >= b and vD == c:
                return sym, 'additive'
        if v4 >= 2 and v6 >= 3 and vD >= 6:
            return f\"I{vD-6}*\", 'additive'
        return 'additive?', 'additive'

    symbol, typ = classify_from_minimal_vals(v4m, v6m, vDm)
    return {'symbol': symbol, 'v_c4': v4m, 'v_c6': v6m, 'v_D': vDm,
            'center': center_display, 'r': 0, 'minimal_used': bool(minimal),
            'type': typ, 'n': n, 'split': (typ=='multiplicative'),
            'root_type': root_type}

" 0 3 (face font-lock-keyword-face fontified t) 3 4 (fontified t) 4 19 (face font-lock-function-name-face fontified t) 19 43 (fontified t) 43 44 (face font-lock-operator-face fontified t) 44 48 (face font-lock-constant-face fontified t) 48 55 (fontified t) 55 56 (face font-lock-operator-face fontified t) 56 61 (face font-lock-constant-face fontified t) 61 70 (fontified t) 70 71 (face font-lock-operator-face fontified t) 71 75 (face font-lock-constant-face fontified t) 75 78 (fontified t) 78 79 (face font-lock-operator-face fontified t) 79 83 (face font-lock-constant-face fontified t) 83 96 (fontified t) 96 97 (face font-lock-operator-face fontified t) 97 102 (face font-lock-constant-face fontified t) 102 109 (fontified t) 109 111 (face font-lock-doc-face fontified t) 111 112 (face font-lock-doc-face syntax-table (15) fontified t) 112 254 (face font-lock-doc-face fontified t) 254 265 (face font-lock-doc-face fontified t) 265 269 (face font-lock-doc-face fontified t) 269 270 (face font-lock-doc-face syntax-table (15) fontified t) 270 272 (face font-lock-doc-face fontified t) 272 277 (fontified t) 277 279 (face font-lock-comment-delimiter-face fontified t) 279 328 (face font-lock-comment-face fontified t) 328 332 (fontified t) 332 334 (face font-lock-keyword-face fontified t) 334 342 (fontified t) 342 344 (face font-lock-keyword-face fontified t) 344 345 (fontified t) 345 349 (face font-lock-constant-face fontified t) 349 359 (fontified t) 359 365 (face font-lock-keyword-face fontified t) 365 383 (fontified t) 383 385 (face font-lock-keyword-face fontified t) 385 388 (fontified t) 388 390 (face font-lock-keyword-face fontified t) 390 391 (fontified t) 391 394 (face font-lock-keyword-face fontified t) 394 395 (fontified t) 395 399 (face font-lock-constant-face fontified t) 399 425 (fontified t) 425 428 (face font-lock-variable-name-face fontified t) 428 430 (fontified t) 430 433 (face font-lock-variable-name-face fontified t) 433 435 (fontified t) 435 438 (face font-lock-variable-name-face fontified t) 438 440 (fontified t) 440 441 (face font-lock-operator-face fontified t) 441 479 (fontified t) 479 480 (face font-lock-operator-face fontified t) 480 494 (fontified t) 494 495 (face font-lock-operator-face fontified t) 495 505 (fontified t) 505 506 (face font-lock-operator-face fontified t) 506 523 (fontified t) 523 532 (face font-lock-variable-name-face fontified t) 532 533 (fontified t) 533 534 (face font-lock-operator-face fontified t) 534 535 (fontified t) 535 547 (face font-lock-string-face fontified t) 547 549 (fontified t) 549 551 (face font-lock-comment-delimiter-face fontified t) 551 591 (face font-lock-comment-face fontified t) 591 599 (fontified t) 599 613 (face font-lock-variable-name-face fontified t) 613 614 (fontified t) 614 615 (face font-lock-operator-face fontified t) 615 616 (fontified t) 616 625 (face font-lock-string-face fontified t) 625 630 (fontified t) 630 634 (face font-lock-keyword-face fontified t) 634 672 (fontified t) 672 675 (face font-lock-variable-name-face fontified t) 675 677 (fontified t) 677 680 (face font-lock-variable-name-face fontified t) 680 682 (fontified t) 682 685 (face font-lock-variable-name-face fontified t) 685 687 (fontified t) 687 688 (face font-lock-operator-face fontified t) 688 726 (fontified t) 726 727 (face font-lock-operator-face fontified t) 727 747 (fontified t) 747 748 (face font-lock-operator-face fontified t) 748 765 (fontified t) 765 774 (face font-lock-variable-name-face fontified t) 774 775 (fontified t) 775 776 (face font-lock-operator-face fontified t) 776 777 (fontified t) 777 787 (face font-lock-string-face fontified t) 787 796 (fontified t) 796 810 (face font-lock-variable-name-face fontified t) 810 811 (fontified t) 811 812 (face font-lock-operator-face fontified t) 812 813 (fontified t) 813 817 (face font-lock-constant-face fontified t) 817 822 (fontified t) 822 826 (face font-lock-keyword-face fontified t) 826 852 (fontified t) 852 855 (face font-lock-variable-name-face fontified t) 855 857 (fontified t) 857 860 (face font-lock-variable-name-face fontified t) 860 862 (fontified t) 862 865 (face font-lock-variable-name-face fontified t) 865 867 (fontified t) 867 868 (face font-lock-operator-face fontified t) 868 906 (fontified t) 906 907 (face font-lock-operator-face fontified t) 907 926 (fontified t) 926 927 (face font-lock-operator-face fontified t) 927 942 (fontified t) 942 943 (face font-lock-operator-face fontified t) 943 960 (fontified t) 960 969 (face font-lock-variable-name-face fontified t) 969 970 (fontified t) 970 971 (face font-lock-operator-face fontified t) 971 972 (fontified t) 972 982 (face font-lock-string-face fontified t) 982 991 (fontified t) 991 1005 (face font-lock-variable-name-face fontified t) 1005 1006 (fontified t) 1006 1007 (face font-lock-operator-face fontified t) 1007 1020 (fontified t) 1020 1022 (face font-lock-keyword-face fontified t) 1022 1038 (fontified t) 1038 1043 (face font-lock-builtin-face fontified t) 1043 1045 (fontified t) 1045 1056 (face font-lock-string-face fontified t) 1056 1062 (face nil fontified t) 1062 1064 (face font-lock-keyword-face fontified t) 1064 1077 (face nil fontified t) 1077 1081 (face font-lock-keyword-face fontified t) 1081 1087 (face nil fontified t) 1087 1089 (face font-lock-keyword-face fontified t) 1089 1092 (face nil fontified t) 1092 1094 (face font-lock-keyword-face fontified t) 1094 1095 (face nil fontified t) 1095 1098 (face font-lock-keyword-face fontified t) 1098 1099 (face nil fontified t) 1099 1103 (face font-lock-constant-face fontified t) 1103 1104 (face nil fontified t) 1104 1108 (face font-lock-keyword-face fontified t) 1108 1118 (face nil fontified t) 1118 1121 (face font-lock-string-face fontified t) 1121 1137 (fontified t) 1137 1144 (face font-lock-string-face fontified t) 1144 1148 (face nil fontified t) 1148 1153 (face font-lock-string-face fontified t) 1153 1157 (face nil fontified t) 1157 1161 (face font-lock-string-face fontified t) 1161 1165 (face nil fontified t) 1165 1172 (face font-lock-string-face fontified t) 1172 1175 (face nil fontified t) 1175 1188 (face font-lock-string-face fontified t) 1188 1193 (face nil fontified t) 1193 1195 (face font-lock-string-face fontified t) 1195 1200 (face nil fontified t) 1200 1202 (face font-lock-string-face fontified t) 1202 1207 (face nil fontified t) 1207 1210 (face font-lock-string-face fontified t) 1210 1217 (fontified t) 1217 1219 (face font-lock-comment-delimiter-face fontified t) 1219 1240 (face font-lock-comment-face fontified t) 1240 1244 (fontified t) 1244 1246 (face font-lock-keyword-face fontified t) 1246 1250 (fontified t) 1250 1252 (face font-lock-operator-face fontified t) 1252 1264 (fontified t) 1264 1270 (face font-lock-keyword-face fontified t) 1270 1272 (fontified t) 1272 1280 (face font-lock-string-face fontified t) 1280 1282 (fontified t) 1282 1286 (face font-lock-string-face fontified t) 1286 1288 (fontified t) 1288 1294 (face font-lock-string-face fontified t) 1294 1301 (fontified t) 1301 1307 (face font-lock-string-face fontified t) 1307 1314 (fontified t) 1314 1319 (face font-lock-string-face fontified t) 1319 1342 (fontified t) 1342 1350 (face font-lock-string-face fontified t) 1350 1368 (fontified t) 1368 1371 (face font-lock-string-face fontified t) 1371 1376 (fontified t) 1376 1390 (face font-lock-string-face fontified t) 1390 1392 (fontified t) 1392 1396 (face font-lock-builtin-face fontified t) 1396 1423 (fontified t) 1423 1429 (face font-lock-string-face fontified t) 1429 1431 (fontified t) 1431 1439 (face font-lock-string-face fontified t) 1439 1440 (fontified t) 1440 1442 (face font-lock-keyword-face fontified t) 1442 1446 (fontified t) 1446 1447 (face font-lock-operator-face fontified t) 1447 1450 (fontified t) 1450 1454 (face font-lock-keyword-face fontified t) 1454 1455 (fontified t) 1455 1471 (face font-lock-string-face fontified t) 1471 1473 (fontified t) 1473 1476 (face font-lock-string-face fontified t) 1476 1481 (fontified t) 1481 1488 (face font-lock-string-face fontified t) 1488 1490 (fontified t) 1490 1494 (face font-lock-constant-face fontified t) 1494 1512 (fontified t) 1512 1523 (face font-lock-string-face fontified t) 1523 1541 (fontified t) 1541 1543 (face font-lock-comment-delimiter-face fontified t) 1543 1621 (face font-lock-comment-face fontified t) 1621 1625 (fontified t) 1625 1628 (face font-lock-keyword-face fontified t) 1628 1629 (fontified t) 1629 1655 (face font-lock-function-name-face fontified t) 1655 1677 (fontified t) 1677 1679 (face font-lock-keyword-face fontified t) 1679 1683 (fontified t) 1683 1685 (face font-lock-operator-face fontified t) 1685 1688 (fontified t) 1688 1691 (face font-lock-keyword-face fontified t) 1691 1695 (fontified t) 1695 1697 (face font-lock-operator-face fontified t) 1697 1700 (fontified t) 1700 1703 (face font-lock-keyword-face fontified t) 1703 1707 (fontified t) 1707 1709 (face font-lock-operator-face fontified t) 1709 1725 (fontified t) 1725 1731 (face font-lock-keyword-face fontified t) 1731 1733 (fontified t) 1733 1735 (face font-lock-string-face fontified t) 1735 1739 (face nil fontified t) 1739 1740 (face font-lock-string-face fontified t) 1740 1742 (fontified t) 1742 1758 (face font-lock-string-face fontified t) 1758 1765 (fontified t) 1765 1767 (fontified t) 1767 1770 (face font-lock-variable-name-face fontified t) 1770 1771 (fontified t) 1771 1772 (face font-lock-operator-face fontified t) 1772 1775 (fontified t) 1775 1788 (fontified t) 1788 1792 (face font-lock-string-face fontified t) 1792 1807 (fontified t) 1807 1812 (face font-lock-string-face fontified t) 1812 1825 (fontified t) 1825 1829 (face font-lock-string-face fontified t) 1829 1854 (fontified t) 1854 1859 (face font-lock-string-face fontified t) 1859 1873 (fontified t) 1873 1878 (face font-lock-string-face fontified t) 1878 1891 (fontified t) 1891 1897 (face font-lock-string-face fontified t) 1897 1909 (fontified t) 1909 1914 (face font-lock-string-face fontified t) 1914 1944 (fontified t) 1944 1947 (face font-lock-keyword-face fontified t) 1947 1960 (fontified t) 1960 1962 (face font-lock-keyword-face fontified t) 1962 1980 (fontified t) 1980 1982 (face font-lock-keyword-face fontified t) 1982 1986 (fontified t) 1986 1988 (face font-lock-operator-face fontified t) 1988 1991 (fontified t) 1991 1994 (face font-lock-keyword-face fontified t) 1994 1998 (fontified t) 1998 2000 (face font-lock-operator-face fontified t) 2000 2003 (fontified t) 2003 2006 (face font-lock-keyword-face fontified t) 2006 2010 (fontified t) 2010 2012 (face font-lock-operator-face fontified t) 2012 2032 (fontified t) 2032 2038 (face font-lock-keyword-face fontified t) 2038 2044 (fontified t) 2044 2054 (face font-lock-string-face fontified t) 2054 2063 (fontified t) 2063 2065 (face font-lock-keyword-face fontified t) 2065 2069 (fontified t) 2069 2071 (face font-lock-operator-face fontified t) 2071 2074 (fontified t) 2074 2077 (face font-lock-keyword-face fontified t) 2077 2081 (fontified t) 2081 2083 (face font-lock-operator-face fontified t) 2083 2086 (fontified t) 2086 2089 (face font-lock-keyword-face fontified t) 2089 2093 (fontified t) 2093 2095 (face font-lock-operator-face fontified t) 2095 2111 (fontified t) 2111 2117 (face font-lock-keyword-face fontified t) 2117 2119 (fontified t) 2119 2121 (face font-lock-string-face fontified t) 2121 2124 (face nil fontified t) 2124 2125 (face font-lock-operator-face fontified t) 2125 2127 (face nil fontified t) 2127 2129 (face font-lock-string-face fontified t) 2129 2131 (fontified t) 2131 2141 (face font-lock-string-face fontified t) 2141 2150 (fontified t) 2150 2156 (face font-lock-keyword-face fontified t) 2156 2157 (fontified t) 2157 2168 (face font-lock-string-face fontified t) 2168 2170 (fontified t) 2170 2180 (face font-lock-string-face fontified t) 2180 2186 (fontified t) 2186 2192 (face font-lock-variable-name-face fontified t) 2192 2194 (fontified t) 2194 2197 (face font-lock-variable-name-face fontified t) 2197 2198 (fontified t) 2198 2199 (face font-lock-operator-face fontified t) 2199 2246 (fontified t) 2246 2252 (face font-lock-keyword-face fontified t) 2252 2254 (fontified t) 2254 2262 (face font-lock-string-face fontified t) 2262 2272 (fontified t) 2272 2278 (face font-lock-string-face fontified t) 2278 2285 (fontified t) 2285 2291 (face font-lock-string-face fontified t) 2291 2298 (fontified t) 2298 2303 (face font-lock-string-face fontified t) 2303 2322 (fontified t) 2322 2330 (face font-lock-string-face fontified t) 2330 2348 (fontified t) 2348 2351 (face font-lock-string-face fontified t) 2351 2356 (fontified t) 2356 2370 (face font-lock-string-face fontified t) 2370 2372 (fontified t) 2372 2376 (face font-lock-builtin-face fontified t) 2376 2399 (fontified t) 2399 2405 (face font-lock-string-face fontified t) 2405 2412 (fontified t) 2412 2415 (face font-lock-string-face fontified t) 2415 2420 (fontified t) 2420 2427 (face font-lock-string-face fontified t) 2427 2433 (fontified t) 2433 2435 (face font-lock-operator-face fontified t) 2435 2451 (face font-lock-string-face fontified t) 2451 2466 (fontified t) 2466 2477 (face font-lock-string-face fontified t) 2477 2491 (fontified t)) . 32453) (undo-tree-id0 . -2490) (undo-tree-id1 . -1015) (undo-tree-id2 . -2490) (undo-tree-id3 . -2490) (undo-tree-id4 . -2490) 34943) nil (26858 55903 244455 869000) 0 nil])
nil
